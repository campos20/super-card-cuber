(window["webpackJsonpsuper-card-cuber"]=window["webpackJsonpsuper-card-cuber"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),o=a.n(s),i=(a(15),a(1)),l=a(2),c=a(4),m=a(3),d=a(5),u=(a(16),[{id:"333",name:"3x3x3 Cube",spec:["single","average"]},{id:"222",name:"2x2x2 Cube",spec:["single","average"]},{id:"444",name:"4x4x4 Cube",spec:["single","average"]},{id:"555",name:"5x5x5 Cube",spec:["single","average"]},{id:"666",name:"6x6x6 Cube",spec:["single","average"]},{id:"777",name:"7x7x7 Cube",spec:["single","average"]},{id:"333bf",name:"3x3x3 Blindfolded",spec:["single","average"]},{id:"333fm",name:"3x3x3 Fewest Moves",spec:["single","average"]},{id:"333oh",name:"3x3x3 One-Handed",spec:["single","average"]},{id:"333ft",name:"3x3x3 With Feet",spec:["single","average"]},{id:"clock",name:"Clock",spec:["single","average"]},{id:"minx",name:"Megaminx",spec:["single","average"]},{id:"pyram",name:"Pyraminx",spec:["single","average"]},{id:"skewb",name:"Skewb",spec:["single","average"]},{id:"sq1",name:"Square-1",spec:["single","average"]},{id:"444bf",name:"4x4x4 Blindfolded",spec:["single","average"]},{id:"555bf",name:"5x5x5 Blindfolded",spec:["single","average"]},{id:"333mbf",name:"3x3x3 Multi-Blind",spec:["single"]}]);function p(e){for(var t in u)if(u[t].id===e)return u[t].name}function h(e){return/[0-9]{4}[A-Z]{4}[0-9]{2}/.test(e)}var g=function(e,t){for(var a=(""+e).length,n="",r=0;r<t-a;r++)n+="0";return n+e},f=function(e,t,a){if("333fm"===t&&"single"===a)return e;if("333mbf"===t&&"single"===a){e+="";var n=Number(e.substring(0,2)),r=Number(e.substring(2,7)),s=Number(e.substring(7,9)),o=99-n+s;return o+"/"+(o+s)+" ["+function(e){if(99999===e)return"Unknown";var t=Math.floor(e/3600);e-=3600*t;var a=Math.floor(e/60);e-=60*a;var n=Math.floor(e);return t>0?t+":"+g(a,2)+g(n,2):a+":"+g(n,2)}(r)+"]"}return function(e){if("-"===e)return e;var t=Number(e);if(-1===t)return"DNF";var a=Math.floor(t/100);t%=100;var n=Math.floor(a/60);a%=60;var r=Math.floor(n/60);n%=60;var s=a+"."+g(t,2);return n>0&&(s=a<10?n+":0"+s:n+":"+s),r>0&&(s=n<10?r+":0"+s:r+":"+s),s}(e)},v=a(9),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).medals=["gold","silver","bronze"],a.records=["world","continental","national"],a.findResult=function(e,t,n){var r=a.getCompetitorInfo();if("competitions"===e)return r.competition_count;if(a.medals.indexOf(e)>=0)return r.medals[e];if("totalMedals"===e)return r.medals.total;if(a.records.indexOf(e)>=0)return r.records.item;if("totalRecords"===e)return r.records.total;if("best"===n){if(!r.personal_records[e]||!r.personal_records[e][t]||!r.personal_records[e][t][n])return"-";var s=e;return f(r.personal_records[s][t][n],s,t)}return r.personal_records[e][t][n]},a.getCompetitorInfo=e.getCompetitorInfo,a.getStatus=e.getStatus,a.toShow=e.toShow,a.getGeneralItemsFiltered=e.getGeneralItemsFiltered,a.getTotalItemsToShow=e.getTotalItemsToShow,a.getSpecName=e.getSpecName,a.getStatus=e.getStatus,a.statusEnum=e.statusEnum,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.getStatus();if(t===this.statusEnum.LOADING)return r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."));if(t===this.statusEnum.ERROR)return r.a.createElement("div",null,"Error");if(t===this.statusEnum.LOADED){var a=this.props.competitorInfo,n=window.innerWidth,s=Math.min(400,n),o=Math.floor(1.5*s),i=Math.floor(o/10),l=Math.floor(o/3),c=this.getGeneralItemsFiltered(),m=this.props.toShow,d=Math.floor((o-i-l)/this.getTotalItemsToShow());return r.a.createElement("div",{id:"card-base",className:"container",style:{width:s,height:o,paddingLeft:0,paddingRight:0}},r.a.createElement("div",{id:"card",className:"card",style:{height:o}},r.a.createElement("div",{id:"competitor-name",style:{height:i}},r.a.createElement("h4",null,a.person.name)),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-8"},r.a.createElement("img",{className:"avatar",src:a.person.avatar.url,alt:"Competitor avatar.",style:{height:l}})),r.a.createElement("div",{className:"col-2"},r.a.createElement(v.a,{code:a.person.country_iso2})))),r.a.createElement("div",{id:"div-table-card"},r.a.createElement("table",{className:"table table-sm"},r.a.createElement("tbody",null,c.map(function(t){return r.a.createElement("tr",{key:t.id,style:{height:d}},r.a.createElement("td",{className:"align-middle"},t.name),r.a.createElement("td",{className:"align-middle"},e.findResult(t.id)))}),m.map(function(t){return r.a.createElement("tr",{key:t.id+"-"+t.type+"-"+t.spec,style:{height:d}},r.a.createElement("td",{className:"capitalize align-middle"},p(t.id)+" "+t.type+" "+e.getSpecName(t.spec)),r.a.createElement("td",{className:"align-middle"},e.findResult(t.id,t.type,t.spec)))}))))))}return r.a.createElement("span",null)}}]),t}(n.Component),b=(a(19),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCompetitorChange=function(e){var t=e.target.value.toUpperCase();a.setState({wcaId:t}),a.searchCompetitor(t)},a.toogleSelectedEvent=function(e){var t=e.target.getAttribute("id").split("-"),n=t[0],r=t[1],s=t[2];a.toogleToShow(n,r,s)},a.toogleGeneralItem=function(e){var t=e.target.getAttribute("value");a.toogleShowGeneralItem(t)},a.handleDownload=function(){},a.isToShow=e.isToShow,a.toogleToShow=e.toogleToShow,a.toogleShowGeneralItem=e.toogleShowGeneralItem;return a.state={wcaId:""},a.searchCompetitor=e.searchCompetitor,a.types=e.types,a.specs=e.specs,a.getStatus=e.getStatus,a.statusEnum=e.statusEnum,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"input-base",className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleCompetitorChange,maxLength:"10",id:"wca-id-input",placeholder:"Select a Competitor"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",type:"button","data-toggle":"collapse","data-target":"#collapse-items","aria-expanded":"false","aria-controls":"collapse-items"},"General items"),r.a.createElement("button",{className:"btn btn-primary",type:"button","data-toggle":"collapse","data-target":"#collapse-events","aria-expanded":"false","aria-controls":"collapse-events"},"Events"),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.handleDownload,id:"btn-download",disabled:this.getStatus()!==this.statusEnum.LOADED,title:"Download the card after it's rendered.",style:{display:"none"}},"Download")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 align-items-center"},r.a.createElement("div",{className:"collapse",id:"collapse-items"},r.a.createElement("table",{className:"table table-sm table-hover"},r.a.createElement("tbody",null,this.props.generalItems.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{onClick:e.toogleGeneralItem,value:t.id,className:t.show?"table-dark capitalize":"capitalize"},t.name))})))))),r.a.createElement("div",{className:"collapse",id:"collapse-events"},r.a.createElement("table",{className:"table table-sm table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),this.types.map(function(t){return r.a.createElement("th",{className:"capitalize",colSpan:e.specs.length,key:t},t)}))),r.a.createElement("tbody",null,u.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("th",null,p(t.id)),t.spec.map(function(a){return r.a.createElement(r.a.Fragment,{key:a},e.specs.map(function(n){return r.a.createElement("td",{className:e.isToShow(t.id,a,n.id)?"table-dark capitalize":"capitalize",id:t.id+"-"+a+"-"+n.id,key:t.id+"-"+a+"-"+n.id,onClick:e.toogleSelectedEvent},n.name)}))}))})))))}}]),t}(n.Component)),w=(a(20),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).getSpecName=function(e){return a.specs.filter(function(t){return t.id===e})[0].name},a.statusEnum={INIT:0,LOADING:1,LOADED:2,ERROR:-1},a.getStatus=function(){return a.state.status},a.toogleShowGeneralItem=function(e){var t=a.state.generalItems;t.forEach(function(t){t.id===e&&((t.show||a.getTotalItemsToShow()<a.CARD_LIMIT_LINE_NUMBER)&&(t.show=!t.show))});var n=a.state;n.generalItems=t,a.setState(n)},a.isToShow=function(e,t,n){var r=!1;return a.state.toShow.forEach(function(a){a.id===e&&a.type===t&&a.spec===n&&(r=!0)}),r},a.toogleToShow=function(e,t,n){var r=a.state.toShow,s=a.state;if(a.isToShow(e,t,n))r=r.filter(function(a){return a.id!==e||a.type!==t||a.spec!==n});else{if(a.getTotalItemsToShow()>=a.CARD_LIMIT_LINE_NUMBER)return;r.push({id:e,type:t,spec:n})}s.toShow=r,a.setState(s)},a.searchCompetitor=function(e){if(h(e)){var t=a.state;t.status=a.statusEnum.LOADING,a.setState(t),a.fetchCompetitor(e)}},a.getCompetitorInfo=function(){return a.state.competitorInfo},a.isLoaded=function(){return a.state.loaded},a.getGeneralItemsFiltered=function(){return a.state.generalItems.filter(function(e){return e.show})},a.getTotalItemsToShow=function(){return a.state.toShow.length+a.getGeneralItemsFiltered().length},a.baseApiUrl="https://www.worldcubeassociation.org/",a.personsEndpoint="api/v0/persons/",a.fetchCompetitor=function(e){var t=this;e=e.toUpperCase();var a=this.baseApiUrl+this.personsEndpoint+e;fetch(a).then(function(e){return e.json()}).then(function(e){var a=t.state;a.competitorInfo=e,a.status=t.statusEnum.LOADED,t.setState(a)},function(e){var a=t.state;a.status=t.statusEnum.ERROR,t.setState(a),console.log(e)})},a.types=["single","average"],a.specs=[{id:"best",name:"best"},{id:"country_rank",name:"Natioanl Rank"},{id:"continent_rank",name:"Continental Rank"},{id:"world_rank",name:"World Rank"}];var n={wcaId:"",competitorInfo:{},status:null,generalItems:[{id:"competitions",name:"Competitions",show:!0},{id:"gold",name:"Golds",show:!0},{id:"silver",name:"Silvers",show:!0},{id:"bronze",name:"Bronzes",show:!0},{id:"totalMedals",name:"Total Medals",show:!1},{id:"totalRecords",name:"Total Records",show:!0}],toShow:[{id:"333",type:"single",spec:"best"},{id:"333",type:"average",spec:"best"}]};return a.state=n,a.CARD_LIMIT_LINE_NUMBER=10,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotrom"},r.a.createElement("h1",{id:"main-title"},"Super Card Cuber")),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(b,{searchCompetitor:this.searchCompetitor,isToShow:this.isToShow,toogleToShow:this.toogleToShow,generalItems:this.state.generalItems,toogleShowGeneralItem:this.toogleShowGeneralItem,types:this.types,specs:this.specs,getStatus:this.getStatus,statusEnum:this.statusEnum}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12",align:"center"},r.a.createElement(E,{getCompetitorInfo:this.getCompetitorInfo,competitorInfo:this.state.competitorInfo,toShow:this.state.toShow,getGeneralItemsFiltered:this.getGeneralItemsFiltered,getSpecName:this.getSpecName,getTotalItemsToShow:this.getTotalItemsToShow,statusEnum:this.statusEnum,getStatus:this.getStatus})))))}}]),t}(n.Component));var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.41173823.chunk.js.map