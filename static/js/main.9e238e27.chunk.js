(window["webpackJsonpsuper-card-cuber"]=window["webpackJsonpsuper-card-cuber"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),l=a.n(r),i=(a(13),a(1)),s=a(2),c=a(4),m=a(3),d=a(5),u=(a(14),[{id:"333",name:"3x3x3 Cube",spec:["single","average"]},{id:"222",name:"2x2x2 Cube",spec:["single","average"]},{id:"444",name:"4x4x4 Cube",spec:["single","average"]},{id:"555",name:"5x5x5 Cube",spec:["single","average"]},{id:"666",name:"6x6x6 Cube",spec:["single","average"]},{id:"777",name:"7x7x7 Cube",spec:["single","average"]},{id:"333bf",name:"3x3x3 Blindfolded",spec:["single","average"]},{id:"333fm",name:"3x3x3 Fewest Moves",spec:["single","average"]},{id:"333oh",name:"3x3x3 One-Handed",spec:["single","average"]},{id:"333ft",name:"3x3x3 With Feet",spec:["single","average"]},{id:"clock",name:"Clock",spec:["single","average"]},{id:"minx",name:"Megaminx",spec:["single","average"]},{id:"pyram",name:"Pyraminx",spec:["single","average"]},{id:"skewb",name:"Skewb",spec:["single","average"]},{id:"sq1",name:"Square-1",spec:["single","average"]},{id:"444bf",name:"4x4x4 Blindfolded",spec:["single","average"]},{id:"555bf",name:"5x5x5 Blindfolded",spec:["single","average"]},{id:"333mbf",name:"3x3x3 Multi-Blind",spec:["single"]}]);function p(e){for(var t in u)if(u[t].id===e)return u[t].name}function h(e){for(var t in u)if(u[t].id===e)return!0;return!1}function v(e){return/[0-9]{4}[A-Z]{4}[0-9]{2}/.test(e)}var g=function(e,t){return"333fm"===t?e:"333mbf"===t?e:function(e){if("-"===e)return e;var t=Number(e);if(-1===t)return"DNF";var a=Math.floor(t/100);t%=100;var n=Math.floor(a/60);a%=60;var o=Math.floor(n/60);n%=60;var r=a+"."+function(e,t){for(var a=(""+e).length,n="",o=0;o<t-a;o++)n+="0";return n+e}(t,2);return n>0&&(r=a<10?n+":0"+r:n+":"+r),o>0&&(r=n<10?o+":0"+r:o+":"+r),r}(e)},f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).medals=["gold","silver","bronze"],a.records=["world","continental","national"],a.findResult=function(e,t,n){var o=a.getCompetitorInfo();return"competitions"===e?o.competition_count:a.medals.indexOf(e)>=0?o.medals.item:"totalMedals"===e?o.medals.total:a.records.indexOf(e)>=0?o.records.item:"totalRecords"===e?o.records.total:h(e)?o.personal_records[e]&&o.personal_records[e][t]&&o.personal_records[e][t][n]?o.personal_records[e][t][n]:"-":"Error."},a.getCompetitorInfo=e.getCompetitorInfo,a.isLoaded=e.isLoaded,a.toShow=e.toShow,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.competitorInfo;return this.isLoaded()?o.a.createElement("div",{id:"card-base",className:"container"},o.a.createElement("div",{id:"card",className:"card"},o.a.createElement("h4",null,t.person.name),o.a.createElement("div",null,o.a.createElement("img",{className:"avatar",src:t.person.avatar.url,alt:"Competitor avatar."})),o.a.createElement("div",{id:"div-table-card"},o.a.createElement("table",{className:"table table-bordered table-striped table-sm"},o.a.createElement("tbody",null,this.props.generalItems.filter(function(e){return e.show}).map(function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.name),o.a.createElement("td",null,e.findResult(t.id)))}),this.props.toShow.map(function(t){return o.a.createElement("tr",{key:t.id+"-"+t.type},o.a.createElement("td",{className:"capitalize"},p(t.id)+" "+t.type),o.a.createElement("td",null,g(e.findResult(t.id,t.type,"best"),t.id)))})))))):o.a.createElement("span",null)}}]),t}(n.Component),b=(a(15),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleCompetitorChange=function(e){var t=e.target.value.toUpperCase();a.setState({wcaId:t}),a.searchCompetitor(t)},a.toogleSelectedEvent=function(e){var t=e.target.getAttribute("value").split("-"),n=t[0],o=t[1];a.toogleToShow(n,o)},a.toogleGeneralItem=function(e){var t=e.target.getAttribute("value");a.toogleShowGeneralItem(t)},a.isToShow=e.isToShow,a.toogleToShow=e.toogleToShow,a.toogleShowGeneralItem=e.toogleShowGeneralItem;return a.state={wcaId:""},a.searchCompetitor=e.searchCompetitor,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"input-base",className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleCompetitorChange,maxLength:"10",id:"wca-id-input",placeholder:"Select a Competitor"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary",type:"button","data-toggle":"collapse","data-target":"#collapse-items","aria-expanded":"false","aria-controls":"collapse-items"},"General items"),o.a.createElement("button",{className:"btn btn-primary",type:"button","data-toggle":"collapse","data-target":"#collapse-events","aria-expanded":"false","aria-controls":"collapse-events"},"Events")))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 align-items-center"},o.a.createElement("div",{className:"collapse",id:"collapse-items"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("tbody",null,this.props.generalItems.map(function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",{onClick:e.toogleGeneralItem,value:t.id,className:t.show?"table-dark event-spec":"event-spec"},t.name))})))))),o.a.createElement("div",{className:"collapse",id:"collapse-events"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("tbody",null,u.map(function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("th",null,t.id),t.spec.map(function(a){return o.a.createElement("td",{key:t.id+a,value:t.id+"-"+a,onClick:e.toogleSelectedEvent,className:e.isToShow(t.id,a)?"table-dark event-spec":"event-spec"},a)}))})))))}}]),t}(n.Component)),w=(a(16),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toogleShowGeneralItem=function(e){var t=a.state.generalItems;t.forEach(function(t){t.id===e&&(t.show=!t.show)});var n=a.state;n.generalItems=t,a.setState(n)},a.isToShow=function(e,t){var n=!1;return a.state.toShow.forEach(function(a){a.id===e&&a.type===t&&(n=!0)}),n},a.toogleToShow=function(e,t){var n=a.state.toShow,o=a.state;a.isToShow(e,t)?n=n.filter(function(a){return a.id!==e||a.type!==t}):n.push({id:e,type:t}),o.toShow=n,a.setState(o)},a.searchCompetitor=function(e){v(e)&&a.fetchCompetitor(e)},a.getCompetitorInfo=function(){return a.state.competitorInfo},a.isLoaded=function(){return a.state.loaded},a.baseApiUrl="http://localhost:3000/",a.baseApiUrl="https://www.worldcubeassociation.org/",a.personsEndpoint="api/v0/persons/",a.fetchCompetitor=function(e){var t=this;e=e.toUpperCase();var a=this.baseApiUrl+this.personsEndpoint+e;fetch(a).then(function(e){return e.json()}).then(function(e){var a=t.state;a.competitorInfo=e,a.loaded=!0,t.setState(a)},function(e){console.log(e)})};var n={wcaId:"",competitorInfo:{},loaded:!1,generalItems:[{id:"competitions",name:"Competitions",show:!0},{id:"totalMedals",name:"Total Medals",show:!0},{id:"totalRecords",name:"Total Records",show:!0}],toShow:[{id:"333",type:"single",spec:"best"},{id:"333",type:"average",spec:"best"}]};return a.state=n,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"jumbotrom"},o.a.createElement("h1",{id:"main-title"},"Super Card Cuber")),o.a.createElement("br",null),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(b,{searchCompetitor:this.searchCompetitor,isToShow:this.isToShow,toogleToShow:this.toogleToShow,generalItems:this.state.generalItems,toogleShowGeneralItem:this.toogleShowGeneralItem})))),o.a.createElement(f,{getCompetitorInfo:this.getCompetitorInfo,isLoaded:this.isLoaded,competitorInfo:this.state.competitorInfo,toShow:this.state.toShow,generalItems:this.state.generalItems}))}}]),t}(n.Component));var E=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.9e238e27.chunk.js.map